document.addEventListener("DOMContentLoaded",function(){var pages=document.querySelectorAll(".page");var navLinks=document.querySelectorAll(".main-nav a");var productGrid=document.querySelector(".products__grid");var templateSource=document.querySelector("#template-product").innerHTML;var productTemplate=Handlebars.compile(templateSource);function activatePage(id){pages.forEach(function(page){page.classList.toggle("active",page.id===id)});navLinks.forEach(function(link){link.classList.toggle("active",link.getAttribute("href")==="#"+id)});if(id==="products"){productGrid.innerHTML="";fetch("http://localhost:3131/products").then(function(res){return res.json()}).then(function(data){console.log("Otrzymane data:",data);data.forEach(function(product,index){var html=productTemplate(product);var wrapper=document.createElement("div");wrapper.innerHTML=html;var card=wrapper.firstElementChild;if(index%2===1){card.classList.add("odd")}productGrid.appendChild(card)})}).catch(function(err){console.error("Błąd podczas pobierania produktów:",err)})}}var startPage=window.location.hash.replace("#","")||"home";activatePage(startPage);navLinks.forEach(function(link){link.addEventListener("click",function(e){e.preventDefault();var targetId=link.getAttribute("href").replace("#","");activatePage(targetId);window.location.hash="#"+targetId})})});